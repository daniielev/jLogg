/*
 *  jLogg - v0.1.0
 *  A simple jQuery Plugin that allow you to log-in into your web app using the Facebook Javascript SDK.
 *  http://dev.danielmunnoz.com/jLogg
 *
 *  Made by Daniel Mu√±oz
 *  Under MIT License
 */
!function(a,b,c){"use strict";function d(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._options=c,this._name=f,e=this,this.init()}var e,f="jLogg",g={appId:"1046016745413247","class":["btn-fb-login","btn-fb"],mouseEvent:"click",result:"",success:function(){alert("Woohoo! You have been sucessfully login into Facebook using jLogg")},error:function(){alert("Error :(")}};a.extend(d.prototype,{init:function(){var b=this.element.nodeName;return"BUTTON"!==b&&"INPUT"!==b&&"IMG"!==b?(console.error("Nope! This plugin only works with INPUT, BUTTON or IMG elements. You're using the: "+b+" element."),!1):(("BUTTON"===b||"INPUT"===b)&&a(this.element).attr("type","submit"),this.setFacebookSDK(),a(this.settings["class"]).each(function(){a(e.element).addClass(this)}),void a(this.element).on(this.settings.mouseEvent,this.askStatus))},setFacebookSDK:function(){b.fbAsyncInit=function(){FB.init({appId:e.settings.appId,xfbml:!0,version:"v2.3"})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(c,"script","facebook-jssdk")},setLogin:function(){FB.login(function(a){"connected"===a.status&&(e.settings.success(),e.yay(a))},{scope:"public_profile, email"})},askStatus:function(){FB.getLoginStatus(function(a){statusChangeCallback(a)})},yay:function(){FB.api("/me",function(b){a(e.settings.result).append("<p>"+b.first_name+"</p>"),a(e.settings.result).append("<p>"+b.last_name+"</p>"),a(e.settings.result).append("<p>"+b.email+"</p>")})},statusChangeCallback:function(a){console.log(a),"connected"===a.status?(console.log("Yay!"),e.yay(a)):"not_authorized"===a.status?e.settings.error():console.warn("You must be logged into Facebook!")}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new d(this,b))})}}(jQuery,window,document);