/*
 *  jLogg - v0.1.0
 *  A simple jQuery Plugin that allow you to log-in into your web app using the Facebook Javascript SDK.
 *  http://dev.danielmunnoz.com/jLogg
 *
 *  Made by Daniel Mu√±oz
 *  Under MIT License
 */
!function(a,b,c){"use strict";function d(b,c){this.element=b,this.settings=a.extend({},h,c),this._defaults=h,this._options=c,this._name=g,f=this,this.init()}function e(a){console.log(a),"connected"===a.status?f.yay():"not_authorized"===a.status?f.settings.error():console.warn("You must be logged into Facebook!")}var f,g="jLogg",h={appId:"1046016745413247","class":["btn-fb-login","btn-fb"],mouseEvent:"click",result:"",success:function(){alert("Woohoo! You have been sucessfully login into Facebook using jLogg")},error:function(){alert("Error :(")}};a.extend(d.prototype,{init:function(){var b=this.element.nodeName;return"BUTTON"!==b&&"INPUT"!==b&&"IMG"!==b?(console.error("Nope! This plugin only works with INPUT, BUTTON or IMG elements. You're using the: "+b+" element."),!1):(("BUTTON"===b||"INPUT"===b)&&a(this.element).attr("type","submit"),this.setFacebookSDK(),a(this.settings["class"]).each(function(){a(f.element).addClass(this)}),void a(this.element).on(this.settings.mouseEvent,this.login))},setFacebookSDK:function(){b.fbAsyncInit=function(){FB.init({appId:f.settings.appId,xfbml:!0,version:"v2.3"})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(c,"script","facebook-jssdk")},login:function(a){return a=event||b.event,a.preventDefault(),FB.login(function(a){"connected"===a.status&&f.yay(a)},{scope:"public_profile, email"}),FB.getLoginStatus(function(a){e(a)}),!1},yay:function(){FB.api("/me",function(b){a(f.settings.result).append("<p>"+b.first_name+"</p>"),a(f.settings.result).append("<p>"+b.last_name+"</p>"),a(f.settings.result).append("<p>"+b.email+"</p>")})}}),a.fn[g]=function(b){return this.each(function(){a.data(this,"plugin_"+g)||a.data(this,"plugin_"+g,new d(this,b))})}}(jQuery,window,document);